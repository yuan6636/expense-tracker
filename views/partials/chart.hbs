{{#if chartDataLength}}
<canvas id="myChart" class="w-50 h-50"></canvas>

<div id="chartData" class="d-none">{{chartData}}</div>

<script>
  // 創建圖表
  let chartData = document.getElementById('chartData').innerText
  chartData = JSON.parse(chartData)

  // 設定圓餅圖和標籤顏色
  const labelColors = {
    'Home & Property': '#EA0000',
    'Transportation': '#D94600',
    'Entertainment': '#804040',
    'Food & Beverage': '#808040',
    'Others': '#408080'
  }
  const backgroundColor = chartData.labels.map(label => labelColors[label])
  const borderColor = backgroundColor

  const ctx = document.getElementById('myChart').getContext('2d');
  const myChart = new Chart(ctx, {
    type: 'pie',
    data: {
      labels: chartData.labels,
      datasets: [{
        label: 'expense',
        data: chartData.data,
        backgroundColor,
        borderColor,
        borderWidth: 1
      }]
    },
    options: {
      plugins: {
        title: {
          display: true,
          text: 'Expense',
          font: {
            size: 25,
            weight: 'bold'
          }
        },
        legend: {
          display: true,
          position: 'bottom'
        }
      }
    }
  })
</script>
{{/if}}